<div class="container mt-5">
    <h2 class="mb-4 text-center fw-bold">Danh Sách Lịch dạy </h2>

    <!-- Bộ lọc Năm/Tháng -->
    <form method="GET" action="/giangvien" class="row g-3 mb-4 justify-content-center">
        <div class="col-md-3">
            <label for="nam" class="form-label fw-semibold">Năm</label>
            <select name="nam" id="nam" class="form-select shadow-sm">
                <% const currentYear=new Date().getFullYear(); %>
                    <% for (let y=currentYear - 2; y <=currentYear + 1; y++) { %>
                        <option value="<%= y %>" <%=nam==y ? "selected" : "" %>><%= y %>
                        </option>
                        <% } %>
            </select>
        </div>
        <div class="col-md-3">
            <label for="thang" class="form-label fw-semibold">Tháng</label>
            <select name="thang" id="thang" class="form-select shadow-sm">
                <% for (let m=1; m <=12; m++) { %>
                    <option value="<%= m %>" <%=thang==m ? "selected" : "" %>><%= m %>
                    </option>
                    <% } %>
            </select>
        </div>
        <div class="col-md-2 align-self-end">
            <button type="submit" class="btn btn-primary w-100 shadow-sm">Lọc</button>
        </div>
    </form>

    <!-- Danh sách khóa học -->
<div class="list-group shadow-sm">
    <% if (dskh.length> 0) { %>
        <% dskh.forEach((kh, index)=> { %>
            <div class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <h5 class="mb-1 fw-semibold">
                        <%= kh.tenKhoaHoc %>
                    </h5>
                    <small class="text-muted">
                        <%= kh.thoiGianBatDau ? kh.thoiGianBatDau.toLocaleDateString("vi-VN") : "?" %> -
                            <%= kh.thoiGianKetThuc ? kh.thoiGianKetThuc.toLocaleDateString("vi-VN") : "?" %>
                    </small>
                </div>
                <a href="/giangvien/khoahoc/<%= kh._id %>" class="btn btn-primary px-4 py-2 rounded-3 shadow-sm">
                    Xem
                </a>
            </div>
            <% }) %>
                <% } else { %>
                    <div class="alert alert-info text-center">Không có khóa học nào trong thời gian đã chọn.</div>
                    <% } %>
</div>
</div>